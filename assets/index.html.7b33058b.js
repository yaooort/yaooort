import{_ as n,o as s,c as a,a as t}from"./app.47c4c5f5.js";const p={},o=t(`<p>\u6CE2\u573A\u591A\u7B7E\u529F\u80FD\u4F7F\u7528\u793A\u4F8B</p><blockquote><h5 id="tron-\u64CD\u4F5C\u793A\u4F8B" tabindex="-1"><a class="header-anchor" href="#tron-\u64CD\u4F5C\u793A\u4F8B" aria-hidden="true">#</a> TRON \u64CD\u4F5C\u793A\u4F8B</h5></blockquote><h6 id="\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5" aria-hidden="true">#</a> \u5B89\u88C5</h6><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token comment"># \u53C2\u8003 https://tronweb.network/docu/zh-Hans/docs/5.1.0/quickstart</span>
<span class="token function">npm</span> <span class="token function">install</span> tronweb
</code></pre></div><p>\u5728\u8FD9\u4E2A\u793A\u4F8B\u4E2D\uFF0C\u6211\u4EEC\u4F7F\u7528\u4E86 <code>TronWeb</code> \u5E93\u6765\u6267\u884C\u4E00\u4E9B TRON \u533A\u5757\u94FE\u4E0A\u7684\u64CD\u4F5C\u3002</p><h6 id="\u5BFC\u5165-tronweb" tabindex="-1"><a class="header-anchor" href="#\u5BFC\u5165-tronweb" aria-hidden="true">#</a> \u5BFC\u5165 TronWeb</h6><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">const</span> TronWeb <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;tronweb&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// \u521B\u5EFA\u94B1\u5305</span>
<span class="token keyword">const</span> tronWeb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TronWeb</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">fullHost</span><span class="token operator">:</span> <span class="token string">&#39;https://nile.trongrid.io&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token string-property property">&#39;TRON-PRO-API-KEY&#39;</span><span class="token operator">:</span> <span class="token string">&#39;a9225b3f-a5a5-450e-b316-b0c679570284&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h6 id="\u6253\u5370\u9ED8\u8BA4\u5730\u5740" tabindex="-1"><a class="header-anchor" href="#\u6253\u5370\u9ED8\u8BA4\u5730\u5740" aria-hidden="true">#</a> \u6253\u5370\u9ED8\u8BA4\u5730\u5740</h6><div class="language-javascript ext-js"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tronWeb<span class="token punctuation">.</span>defaultAddress<span class="token punctuation">.</span>base58<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;starting...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h6 id="\u7B7E\u540D\u6D4B\u8BD5" tabindex="-1"><a class="header-anchor" href="#\u7B7E\u540D\u6D4B\u8BD5" aria-hidden="true">#</a> \u7B7E\u540D\u6D4B\u8BD5</h6><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// \u7B7E\u540D</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">signatureTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> signature <span class="token operator">=</span> <span class="token keyword">await</span> TronWeb<span class="token punctuation">.</span>Trx<span class="token punctuation">.</span><span class="token function">signMessageV2</span><span class="token punctuation">(</span><span class="token string">&#39;\u6D88\u606F&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;0a3d0c5190a33764e8bf44f342d50357d71cf2fa4867ab9d609f46b207efec8d&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;\u5F53\u524D\u7B7E\u540D\uFF1A&quot;</span><span class="token punctuation">,</span> signature<span class="token punctuation">)</span>
    <span class="token keyword">const</span> base58Address <span class="token operator">=</span> <span class="token keyword">await</span> TronWeb<span class="token punctuation">.</span>Trx<span class="token punctuation">.</span><span class="token function">verifyMessageV2</span><span class="token punctuation">(</span><span class="token string">&#39;\u6D88\u606F&#39;</span><span class="token punctuation">,</span> signature<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;\u9A8C\u8BC1\u7B7E\u540D\u5730\u5740\u662F\uFF1A&quot;</span><span class="token punctuation">,</span> base58Address<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// signatureTest().then()</span>

</code></pre></div><h6 id="\u521B\u5EFA\u94B1\u5305" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFA\u94B1\u5305" aria-hidden="true">#</a> \u521B\u5EFA\u94B1\u5305</h6><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// \u521B\u5EFA\u94B1\u5305</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">createAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u521B\u5EFA\u79BB\u7EBF\u94B1\u5305</span>
    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> TronWeb<span class="token punctuation">.</span><span class="token function">createAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
    <span class="token comment">// \u521B\u5EFA\u968F\u673A\u7684\u52A9\u8BB0\u8BCD\u548C\u79C1\u94A5</span>
    <span class="token comment">// const {mnemonic, privateKey} = TronWeb.createRandom();</span>
    <span class="token comment">// \u4F7F\u7528\u4E0A\u8FF0\u7684privateKey</span>
    <span class="token comment">// const address = TronWeb.address.fromPrivateKey(privateKey);</span>
    <span class="token comment">// console.log(&quot;\u521B\u5EFA\u94B1\u5305&quot;, mnemonic.phrase, privateKey, address)</span>
    <span class="token comment">// \u6FC0\u6D3B\u94B1\u5305\u8F6C\u4E00\u5B9A\u7684trx\u5C31\u53EF\u4EE5\u6FC0\u6D3B</span>
    <span class="token keyword">const</span> amount <span class="token operator">=</span> <span class="token number">100000000</span><span class="token punctuation">;</span> <span class="token comment">// \u8F6C\u8D26\u7684 TRX \u6570\u91CF 0.00001</span>
    <span class="token keyword">const</span> transaction <span class="token operator">=</span> <span class="token keyword">await</span> tronWeb<span class="token punctuation">.</span>trx<span class="token punctuation">.</span><span class="token function">sendTransaction</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>address<span class="token punctuation">.</span>base58<span class="token punctuation">,</span> amount<span class="token punctuation">,</span> <span class="token string">&#39;0a3d0c5190a33764e8bf44f342d50357d71cf2fa4867ab9d609f46b207efec8d&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>transaction<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// createAccount().then()</span>
</code></pre></div><h6 id="\u521B\u5EFA\u591A\u7B7E\u94B1\u5305-\u4FEE\u6539\u8D26\u6237\u6743\u9650" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFA\u591A\u7B7E\u94B1\u5305-\u4FEE\u6539\u8D26\u6237\u6743\u9650" aria-hidden="true">#</a> \u521B\u5EFA\u591A\u7B7E\u94B1\u5305,\u4FEE\u6539\u8D26\u6237\u6743\u9650</h6><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// \u521B\u5EFA\u591A\u7B7E\u94B1\u5305,\u4FEE\u6539\u8D26\u6237\u6743\u9650</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">createMultiAccount</span><span class="token punctuation">(</span><span class="token parameter">address<span class="token punctuation">,</span> privateKey</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> ownerPermission <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">permission_name</span><span class="token operator">:</span> <span class="token string">&#39;owner&#39;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    ownerPermission<span class="token punctuation">.</span>threshold <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    ownerPermission<span class="token punctuation">.</span>keys <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    ownerPermission<span class="token punctuation">.</span>keys<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">address</span><span class="token operator">:</span> TronWeb<span class="token punctuation">.</span>address<span class="token punctuation">.</span><span class="token function">toHex</span><span class="token punctuation">(</span><span class="token string">&#39;TNpVE2Nh1gywwFhnxU6aJGnKoe9NuxbRVx&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">weight</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ownerPermission<span class="token punctuation">.</span>keys<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">address</span><span class="token operator">:</span> TronWeb<span class="token punctuation">.</span>address<span class="token punctuation">.</span><span class="token function">toHex</span><span class="token punctuation">(</span><span class="token string">&#39;TEn82Kbc9oYqTdY4o5QaJpdDRxJvUjmupU&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">weight</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ownerPermission<span class="token punctuation">.</span>keys<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">address</span><span class="token operator">:</span> TronWeb<span class="token punctuation">.</span>address<span class="token punctuation">.</span><span class="token function">toHex</span><span class="token punctuation">(</span><span class="token string">&#39;TEtLEaFVPQr3bpkzSmGxd5YkGGaMjEG2Z7&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">weight</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> activePermission <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">permission_name</span><span class="token operator">:</span> <span class="token string">&#39;active0&#39;</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// \u8FD9\u91CC\u662F\u5426\u53EF\u4EE5\u5C06active0\u6362\u6210ubao\u5B57\u7B26\u4E32</span>
    activePermission<span class="token punctuation">.</span>threshold <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// \u603Bweight\u4E2D\u67092\u4E2A\u540C\u610F\u7B7E\u540D\uFF0C\u5373\u53EF\u5B8C\u6210\u4EA4\u6613</span>
    activePermission<span class="token punctuation">.</span>operations <span class="token operator">=</span> <span class="token string">&#39;7fff1fc0033e0000000000000000000000000000000000000000000000000000&#39;</span><span class="token punctuation">;</span> <span class="token comment">// \u5982\u679C\u7EBF\u4E0A\u9700\u8981\u66F4\u6362 7fff1fc0033e0300000000000000000000000000000000000000000000000000</span>
    activePermission<span class="token punctuation">.</span>keys <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    activePermission<span class="token punctuation">.</span>keys<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">address</span><span class="token operator">:</span> TronWeb<span class="token punctuation">.</span>address<span class="token punctuation">.</span><span class="token function">toHex</span><span class="token punctuation">(</span><span class="token string">&#39;TNpVE2Nh1gywwFhnxU6aJGnKoe9NuxbRVx&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">weight</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    activePermission<span class="token punctuation">.</span>keys<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">address</span><span class="token operator">:</span> TronWeb<span class="token punctuation">.</span>address<span class="token punctuation">.</span><span class="token function">toHex</span><span class="token punctuation">(</span><span class="token string">&#39;TEn82Kbc9oYqTdY4o5QaJpdDRxJvUjmupU&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">weight</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    activePermission<span class="token punctuation">.</span>keys<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">address</span><span class="token operator">:</span> TronWeb<span class="token punctuation">.</span>address<span class="token punctuation">.</span><span class="token function">toHex</span><span class="token punctuation">(</span><span class="token string">&#39;TEtLEaFVPQr3bpkzSmGxd5YkGGaMjEG2Z7&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">weight</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;\u5F00\u59CB\u4FEE\u6539&quot;</span><span class="token punctuation">)</span>
    <span class="token comment">// \u5C06 base58 \u5730\u5740\u8F6C\u6362\u4E3A hex \u5730\u5740</span>
    <span class="token keyword">const</span> hexAddress <span class="token operator">=</span> TronWeb<span class="token punctuation">.</span>address<span class="token punctuation">.</span><span class="token function">toHex</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> updateTransaction <span class="token operator">=</span> <span class="token keyword">await</span> tronWeb<span class="token punctuation">.</span>transactionBuilder<span class="token punctuation">.</span><span class="token function">updateAccountPermissions</span><span class="token punctuation">(</span>hexAddress<span class="token punctuation">,</span> ownerPermission<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>activePermission<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>updateTransaction<span class="token punctuation">)</span>

    <span class="token comment">// \u7B7E\u7F72\u4EA4\u6613</span>
    <span class="token keyword">const</span> signedTransaction <span class="token operator">=</span> <span class="token keyword">await</span> tronWeb<span class="token punctuation">.</span>trx<span class="token punctuation">.</span><span class="token function">sign</span><span class="token punctuation">(</span>updateTransaction<span class="token punctuation">,</span> privateKey<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// \u5E7F\u64AD\u4EA4\u6613</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> tronWeb<span class="token punctuation">.</span>trx<span class="token punctuation">.</span><span class="token function">sendRawTransaction</span><span class="token punctuation">(</span>signedTransaction<span class="token punctuation">)</span><span class="token punctuation">;</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Transaction Result:&#39;</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">// createMultiAccount(&quot;TGSmFGG6d249Xt4BuNWaCftQ2U7w5XMXov&quot;, &quot;09a423dbb1f0f2ffe45447b83bb98e1a11cb8abc36a3a7181a88369c7009d380&quot;).then()</span>
</code></pre></div><h6 id="\u751F\u6210\u591A\u7B7E\u4EA4\u6613-\u8FD9\u91CC\u662F\u8F6C\u8D26trc20\u4EE3\u5E01" tabindex="-1"><a class="header-anchor" href="#\u751F\u6210\u591A\u7B7E\u4EA4\u6613-\u8FD9\u91CC\u662F\u8F6C\u8D26trc20\u4EE3\u5E01" aria-hidden="true">#</a> \u751F\u6210\u591A\u7B7E\u4EA4\u6613(\u8FD9\u91CC\u662F\u8F6C\u8D26TRC20\u4EE3\u5E01)</h6><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// \u751F\u6210\u591A\u7B7E\u4EA4\u6613</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">createMultiTransaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// TGSmFGG6d249Xt4BuNWaCftQ2U7w5XMXov \u8F6C\u51FA 1 USDT \u5230 TNpVE2Nh1gywwFhnxU6aJGnKoe9NuxbRVx</span>
    <span class="token keyword">let</span> parameter <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;address&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&#39;TNpVE2Nh1gywwFhnxU6aJGnKoe9NuxbRVx&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;uint256&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">1.9</span> <span class="token operator">*</span> <span class="token number">1000000</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// const currentTimestamp = new Date().getTime() + 3600 * 1000 * 24;</span>
    <span class="token keyword">let</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">feeLimit</span><span class="token operator">:</span> <span class="token number">120</span> <span class="token operator">*</span> <span class="token number">1000000</span><span class="token punctuation">,</span> <span class="token comment">// gas\u9650\u5236</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">// HEX\u683C\u5F0F \u5408\u7EA6\u5730\u5740</span>
    <span class="token keyword">const</span> contractAddress <span class="token operator">=</span> TronWeb<span class="token punctuation">.</span>address<span class="token punctuation">.</span><span class="token function">toHex</span><span class="token punctuation">(</span><span class="token string">&quot;TEpkBH2Yb9NG3xgXUW6UbudakyuCHZ7ZVF&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// \u53D1\u8D77\u4EBA issuerAddress HEX\u683C\u5F0F</span>
    <span class="token keyword">const</span> issuerAddress <span class="token operator">=</span> TronWeb<span class="token punctuation">.</span>address<span class="token punctuation">.</span><span class="token function">toHex</span><span class="token punctuation">(</span><span class="token string">&quot;TGSmFGG6d249Xt4BuNWaCftQ2U7w5XMXov&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> tx <span class="token operator">=</span> <span class="token keyword">await</span> tronWeb<span class="token punctuation">.</span>transactionBuilder<span class="token punctuation">.</span><span class="token function">triggerSmartContract</span><span class="token punctuation">(</span>contractAddress<span class="token punctuation">,</span> <span class="token string">&quot;transfer(address,uint256)&quot;</span><span class="token punctuation">,</span> options<span class="token punctuation">,</span> parameter<span class="token punctuation">,</span> issuerAddress<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>tx<span class="token punctuation">)</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;\\n---000---\\n&quot;</span><span class="token punctuation">)</span>

    <span class="token comment">// \u4EE5\u79D2\u4E3A\u5355\u4F4D\u5EF6\u957F\u672A\u7B7E\u540D\u4EA4\u6613\u7684\u8FC7\u671F\u65F6\u95F4\u3002 22\u5C0F\u65F6.\u6700\u5927\u65F6\u95F4\u9650\u52361\u5929</span>
    <span class="token comment">// await tronWeb.transactionBuilder.extendExpiration(tx.transaction, 3600 * 22);</span>
    <span class="token keyword">const</span> extendExpirationTx <span class="token operator">=</span> <span class="token keyword">await</span> tronWeb<span class="token punctuation">.</span>transactionBuilder<span class="token punctuation">.</span><span class="token function">extendExpiration</span><span class="token punctuation">(</span>tx<span class="token punctuation">.</span>transaction<span class="token punctuation">,</span> <span class="token number">3600</span> <span class="token operator">*</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>extendExpirationTx<span class="token punctuation">)</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;\\n---111---\\n&quot;</span><span class="token punctuation">)</span>
    <span class="token comment">// -------------------------------------------------------------------------------------------</span>

    <span class="token comment">// TNpVE2Nh1gywwFhnxU6aJGnKoe9NuxbRVx \u8D26\u53F7\u7B7E\u540D \u79C1\u94A5=0a3d0c5190a33764e8bf44f342d50357d71cf2fa4867ab9d609f46b207efec8d</span>
    <span class="token keyword">const</span> privateKeyAccount1 <span class="token operator">=</span> <span class="token string">&quot;0a3d0c5190a33764e8bf44f342d50357d71cf2fa4867ab9d609f46b207efec8d&quot;</span>
    <span class="token keyword">const</span> signedTxAccount1 <span class="token operator">=</span> <span class="token keyword">await</span> tronWeb<span class="token punctuation">.</span>trx<span class="token punctuation">.</span><span class="token function">multiSign</span><span class="token punctuation">(</span>extendExpirationTx<span class="token punctuation">,</span> privateKeyAccount1<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0 \u4E3AownerPermission\uFF0C Witness ID = 1\uFF0C  Active ID\u4ECE2\u5F00\u59CB\u9012\u589E</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>signedTxAccount1<span class="token punctuation">)</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;\\n---222---\\n&quot;</span><span class="token punctuation">)</span>
    <span class="token comment">// TEtLEaFVPQr3bpkzSmGxd5YkGGaMjEG2Z7 \u8D26\u53F7\u7B7E\u540D \u79C1\u94A5=76ebeb4d91e8508fc8d621d14e280b9e97aa0ee2da184d56e3dff5c3b2b3c723</span>
    <span class="token keyword">const</span> privateKeyAccount2 <span class="token operator">=</span> <span class="token string">&quot;76ebeb4d91e8508fc8d621d14e280b9e97aa0ee2da184d56e3dff5c3b2b3c723&quot;</span>
    <span class="token keyword">const</span> signedTxAccount2 <span class="token operator">=</span> <span class="token keyword">await</span> tronWeb<span class="token punctuation">.</span>trx<span class="token punctuation">.</span><span class="token function">multiSign</span><span class="token punctuation">(</span>signedTxAccount1<span class="token punctuation">,</span> privateKeyAccount2<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0 \u4E3AownerPermission\uFF0C Witness ID = 1\uFF0C  Active ID\u4ECE2\u5F00\u59CB\u9012\u589E</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>signedTxAccount2<span class="token punctuation">)</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;\\n---333---\\n&quot;</span><span class="token punctuation">)</span>

    <span class="token comment">// // \u67E5\u8BE2\u5F53\u524D\u7B7E\u540D\u60C5\u51B5\uFF0CWeight\u5F53\u524D\u591F\u4E0D\u591F\u53BB\u5E7F\u64AD\u4EA4\u6613</span>
    <span class="token comment">// var signWeight = await tronWeb.trx.getSignWeight(signedTxAccount1);</span>
    <span class="token comment">// console.log(&quot;\u67E5\u8BE2\u5F53\u524D\u7B7E\u540D\u60C5\u51B5\uFF0CWeight\u5F53\u524D\u591F\u4E0D\u591F\u53BB\u5E7F\u64AD\u4EA4\u6613&quot;, signWeight)</span>
    <span class="token comment">// // \u5DF2\u7B7E\u540D\u8D26\u53F7\u5217\u8868</span>
    <span class="token comment">// var approvedList = await tronWeb.trx.getApprovedList(signedTxAccount1);</span>
    <span class="token comment">// console.log(&quot;\u5DF2\u7B7E\u540D\u8D26\u53F7\u5217\u8868&quot;, approvedList)</span>

    <span class="token comment">// \u5E7F\u64AD\u4EA4\u6613</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> tronWeb<span class="token punctuation">.</span>trx<span class="token punctuation">.</span><span class="token function">sendRawTransaction</span><span class="token punctuation">(</span>signedTxAccount2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;\u5E7F\u64AD\u6210\u529F\uFF1A&quot;</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;\u5E7F\u64AD\u5931\u8D25\uFF1A&quot;</span><span class="token punctuation">,</span> TronWeb<span class="token punctuation">.</span><span class="token function">toUtf8</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token function">createMultiTransaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div>`,17),e=[o];function c(u,l){return s(),a("div",null,e)}var k=n(p,[["render",c],["__file","index.html.vue"]]);export{k as default};
